{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const refs = {\n\tform: document.querySelector('.form'),\n\tgalleryContainer: document.querySelector('.gallery'),\n\tloaderEl : document.querySelector('.loader'),\n}\n\nexport function createItem(array) {\n\treturn array.map(ar => `\n\t  <li class=\"gallery-item\">\n\t    <a class=\"gallery-link\" href=\"${ar.largeImageURL}\">\n\t\t<img \n\t\t  class=\"gallery-image\" \n\t\t  src=\"${ar.webformatURL}\" \n\t\t  alt=\"${ar.tags}\" \n\t\t/>\n\t    </a>\n\t    <ul class=\"info__list\"> \n\t      <li class=\"info__item\"> \n\t\t <p class=\"info__textHead\">Likes</p>\n\t\t <p class=\"info__textValue\">${ar.likes}</p>\n\t\t</li>\n\t\t<li class=\"info__item\"> \n\t\t <p class=\"info__textHead\">Views</p>\n\t\t <p class=\"info__textValue\">${ar.views}</p>\n\t\t</li>\n\t\t<li class=\"info__item\"> \n\t\t <p class=\"info__textHead\">Comments</p>\n\t\t <p class=\"info__textValue\">${ar.comments}</p>\n\t\t</li>\n\t\t<li class=\"info__item\"> \n\t\t <p class=\"info__textHead\">Downloads</p>\n\t\t <p class=\"info__textValue\">${ar.downloads}</p>\n\t\t</li>\n\t    </ul>\n\t  </li>`).join('');\n    }\n\nexport function loader(el){\n\treturn el.classList.toggle('visually-hidden');\n}","const KEY_API = '45475608-942d333351883cc9805f20e6b';\nconst BASE_URL = 'https://pixabay.com/api';\nconst OTHER_SETTINGS = '&image_type=photo&orientation=horizontal&safesearch=true'\n\nexport class PixabayApi {\n\tconstructor(){\n\t\tthis._findValue = '';\n\n\t}\n\n\tfetchImade(){\n\t       return fetch(`${BASE_URL}/?key=${KEY_API}&q=${this.findValue}${OTHER_SETTINGS}`)\n\t\t.then(response => {\n\t\t\tif (!response.ok){\n\t\t\t\tthrow new Error (response.status);\n\t\t\t}\n\n\t\t\treturn response.json();\n\t\t})\n\t\t.then(data => {\n\t\t\treturn data.hits\n\t\t})\n\t\t.catch(err => {\n\t\t\treturn error(err);\n\t\t  });\n\n\t}\n\n\tget findValue(){\n\t\treturn this._findValue;\n\t}\n\n\tset findValue(newfindValue){\n\t\tthis._findValue = newfindValue;\n\t}\n}","import './css/main.scss';\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\nimport { refs, createItem, loader } from './js/render-functions';\nimport { PixabayApi, } from './js/pixabay-api';\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n\tnavText:  ['<','>'],\n\tcaptionsData: 'alt',\n\tcaptionDelay: 250,\n\tenableKeyboard: true,\n\t});\n\nconst pixabayApi = new PixabayApi();\n\nrefs.form.addEventListener('submit', onSearch);\n\nfunction onSearch(e){\n\te.preventDefault();\n\t\n\tconst searchValue = refs.form.elements.find.value;\n\n      refs.galleryContainer.innerHTML='';\n\n\tloader(refs.loaderEl);\n      \n\tpixabayApi.findValue = e.currentTarget.elements.find.value;\n\n\tpixabayApi.fetchImade()\n\n\t.then(hits => {\n\n\t\tloader(refs.loaderEl);\n\n\t\trefs.galleryContainer.insertAdjacentHTML('beforeend', createItem(hits));\n\n\t\tlightbox.refresh();\n\t\trefs.form.reset();\n           \n\t\tif (hits.length === 0 || searchValue === '') {\n\t\t\tiziToast.error({\n\t\t\t\tmessage: \"Sorry, there are no images matching your search query. Please try again!\",\n\t\t\t\tposition: 'topRight',\n\t\t\t  });\n\t\t\t  return;\n\t\t}\n\t  })\n\t.catch(err => {\n            error(err);\n            console.error('Search operation failed:', err);\n        });\n\t\n}\n    \n\n"],"names":["refs","createItem","array","ar","loader","el","KEY_API","BASE_URL","OTHER_SETTINGS","PixabayApi","response","data","err","newfindValue","lightbox","SimpleLightbox","pixabayApi","onSearch","e","searchValue","hits","iziToast"],"mappings":"6vBAAO,MAAMA,EAAO,CACnB,KAAM,SAAS,cAAc,OAAO,EACpC,iBAAkB,SAAS,cAAc,UAAU,EACnD,SAAW,SAAS,cAAc,SAAS,CAC5C,EAEO,SAASC,EAAWC,EAAO,CACjC,OAAOA,EAAM,IAAIC,GAAM;AAAA;AAAA,qCAEaA,EAAG,aAAa;AAAA;AAAA;AAAA,WAG1CA,EAAG,YAAY;AAAA,WACfA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAMcA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIRA,EAAG,KAAK;AAAA;AAAA;AAAA;AAAA,gCAIRA,EAAG,QAAQ;AAAA;AAAA;AAAA;AAAA,gCAIXA,EAAG,SAAS;AAAA;AAAA;AAAA,SAGnC,EAAE,KAAK,EAAE,CACb,CAEE,SAASC,EAAOC,EAAG,CACzB,OAAOA,EAAG,UAAU,OAAO,iBAAiB,CAC7C,CCvCA,MAAMC,EAAU,qCACVC,EAAW,0BACXC,EAAiB,2DAEhB,MAAMC,CAAW,CACvB,aAAa,CACZ,KAAK,WAAa,EAElB,CAED,YAAY,CACL,OAAO,MAAM,GAAGF,CAAQ,SAASD,CAAO,MAAM,KAAK,SAAS,GAAGE,CAAc,EAAE,EACpF,KAAKE,GAAY,CACjB,GAAI,CAACA,EAAS,GACb,MAAM,IAAI,MAAOA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACnB,CAAG,EACA,KAAKC,GACEA,EAAK,IACZ,EACA,MAAMC,GACC,MAAMA,CAAG,CACd,CAEH,CAED,IAAI,WAAW,CACd,OAAO,KAAK,UACZ,CAED,IAAI,UAAUC,EAAa,CAC1B,KAAK,WAAaA,CAClB,CACF,CC5BA,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC/C,QAAU,CAAC,IAAI,GAAG,EAClB,aAAc,MACd,aAAc,IACd,eAAgB,EACjB,CAAE,EAEF,MAAMC,EAAa,IAAIP,EAEvBT,EAAK,KAAK,iBAAiB,SAAUiB,CAAQ,EAE7C,SAASA,EAASC,EAAE,CACnBA,EAAE,eAAc,EAEhB,MAAMC,EAAcnB,EAAK,KAAK,SAAS,KAAK,MAEvCA,EAAK,iBAAiB,UAAU,GAErCI,EAAOJ,EAAK,QAAQ,EAEpBgB,EAAW,UAAYE,EAAE,cAAc,SAAS,KAAK,MAErDF,EAAW,WAAY,EAEtB,KAAKI,GAAQ,CASb,GAPAhB,EAAOJ,EAAK,QAAQ,EAEpBA,EAAK,iBAAiB,mBAAmB,YAAaC,EAAWmB,CAAI,CAAC,EAEtEN,EAAS,QAAO,EAChBd,EAAK,KAAK,QAENoB,EAAK,SAAW,GAAKD,IAAgB,GAAI,CAC5CE,EAAS,MAAM,CACd,QAAS,2EACT,SAAU,UACd,CAAM,EACD,MACF,CACH,CAAI,EACF,MAAMT,GAAO,CACH,MAAMA,CAAG,EACT,QAAQ,MAAM,2BAA4BA,CAAG,CACzD,CAAS,CAET"}